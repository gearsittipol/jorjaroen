<iframe id="hiddenSubmit" name="hiddenSubmit" style="display:none;"></iframe>
...
<script>
  function toggleOther(field) {
    const select = document.getElementById(field);
    const otherInput = document.getElementById(field + 'Other');
    if (select.value === 'อื่นๆ') {
      otherInput.classList.remove('hidden');
      otherInput.required = true;
    } else {
      otherInput.classList.add('hidden');
      otherInput.required = false;
    }
  }

  document.getElementById("registerForm").addEventListener("submit", function (e) {
    e.preventDefault();

    const roleValue = document.getElementById("role").value === "อื่นๆ"
      ? document.getElementById("roleOther").value
      : document.getElementById("role").value;

    const prefixValue = document.getElementById("prefix").value === "อื่นๆ"
      ? document.getElementById("prefixOther").value
      : document.getElementById("prefix").value;

    const fullname = encodeURIComponent(document.getElementById("fullname").value);
    const phone = encodeURIComponent(document.getElementById("phone").value);

    const role = encodeURIComponent(roleValue);
    const prefix = encodeURIComponent(prefixValue);

    const url = `https://docs.google.com/forms/d/e/1FAIpQLSeTMtM-B7XHX6pziUAQyrHVs5PY_LuvadrnhJwWNYT661VGEg/formResponse?entry.715279163=${role}&entry.1608787866=${prefix}&entry.161154004=${fullname}&entry.1359520012=${phone}`;

    document.getElementById("hiddenSubmit").src = url;

    alert("ส่งข้อมูลเรียบร้อยแล้ว ขอบคุณที่ลงทะเบียน!");
    document.getElementById("registerForm").reset();
  });
</script>
